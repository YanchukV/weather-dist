(this.webpackJsonpprivate=this.webpackJsonpprivate||[]).push([[0],{12:function(e,t,a){e.exports={head:"style_head__1KiL5","head-none":"style_head-none__N71n6",cloudy:"style_cloudy__AHuzO",rainy:"style_rainy__1FSeb",sunny:"style_sunny__1mcIj",icon:"style_icon__1C-ZA","current-date":"style_current-date__3KHvz","current-weather":"style_current-weather__byOys","current-month":"style_current-month__344Yl",temperature:"style_temperature__3N-K8",meta:"style_meta__38Ms2",humidity:"style_humidity__Xdphh"}},15:function(e,t,a){e.exports={filter:"style_filter__VpF8V","radio-group":"style_radio-group__1f8pr",radio:"style_radio__2v_lA",checkbox:"style_checkbox__XSxmG",error:"style_error__3gtUy",selected:"style_selected__DdCcv","custom-input":"style_custom-input__QRIPV"}},47:function(e,t,a){e.exports={none:"style_none__3Zbij",forecast:"style_forecast__3GNHc",day:"style_day__7aqcm",selected:"style_selected__2Uk0d",cloudy:"style_cloudy__35rLH",rainy:"style_rainy__60J5l",sunny:"style_sunny__1cTfF"}},80:function(e,t,a){e.exports=a(93)},93:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(51),l=a.n(c),i=a(14),u=a(60),o=a(18),s=a(32),m="WEATHER_SHOW",d="WEATHER_TO_FILTER",p="WEATHER_START_FETCHING",y="WEATHER_STOP_FETCHING",_="WEATHER_FILL",f="WEATHER_SET_FETCHING_ERROR",h="WEATHER_FETCH_ASYNC",E={data:[],filtered:null,current:[],isFetching:!1,error:!1},b=function(e,t){var a=e.data,r=t.maxTemperature,n=t.minTemperature,c=t.type,l=c.length?a.filter((function(e){return e.type===c})):a;return n.length||r.length?l.filter((function(e){var t=e.temperature;return n<=r?t<=r&&t>=n:n&&!r?t>=n:r&&!n?t<=r:void 0})):l},v=Object(o.c)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload,n=t.id;switch(a){case p:return Object(s.a)({},e,{isFetching:!0});case y:return Object(s.a)({},e,{isFetching:!1});case _:return Object(s.a)({},e,{data:r});case f:return Object(s.a)({},e,{error:r});case d:return Object(s.a)({},e,{current:[],filtered:b(e,r)});case m:return Object(s.a)({},e,{current:Object(u.a)(e.data.filter((function(e){return e.objectId===n})))});default:return e}}}),O=a(75),j=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,o.d),T=[O.a],g=Object(o.e)(v,j(o.a.apply(void 0,Object(u.a)(T)))),F=a(15),w=a.n(F),N=a(31),A=a(28),x=a(71),k=a.n(x),S=a(79),D=Object.freeze({forecast:{fetch:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return fetch("".concat("https://api.backendless.com/520C1D14-9413-E1AA-FF78-\n6A4DB0E26E00/9C9A66AC-959A-D6F4-FFAB-BD991AA34A00/data","/forecast"),{method:"GET"})}))}}),H={showWeather:function(e){return{type:m,id:e}},toFilter:function(e){return{type:d,payload:e}},startFetching:function(){return{type:p}},stopFetching:function(){return{type:y}},fill:function(e){return{type:_,payload:e}},setFetchingError:function(e){return{type:f,payload:e,error:!0}},fetchAsync:function(){return function(){var e=Object(S.a)(k.a.mark((function e(t){var a,r,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:h}),t(H.startFetching()),e.next=4,D.forecast.fetch();case 4:if(200!==(a=e.sent).status){e.next=12;break}return e.next=8,a.json();case 8:r=e.sent,t(H.fill(r)),e.next=14;break;case 12:n={status:a.error},t(H.setFetchingError(n));case 14:t(H.stopFetching());case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},R=function(){var e=Object(i.c)((function(e){return e.weather})).filtered,t=Object(i.b)();return{filtered:e,toFilter:function(e){t(H.toFilter(e))}}},W=a(17),C=a(61),I=a(63),M=a(42),G=a.n(M),L=function(e){var t,a=e.label,r=Object(I.a)(e,["label"]),c=Object(N.c)(r),l=Object(C.a)(c,2),i=l[0],u=l[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement("input",Object.assign({className:w.a.radio},i,r)),n.a.createElement("label",{htmlFor:r.id,className:G()((t={},Object(W.a)(t,w.a.checkbox,!0),Object(W.a)(t,w.a.selected,i.checked),Object(W.a)(t,w.a.error,u.touched&&u.error),t))},a))},B=function(e){e.label;var t=Object(I.a)(e,["label"]),a=Object(N.c)(t),r=Object(C.a)(a,2),c=r[0],l=r[1];return n.a.createElement("p",{className:w.a["custom-input"]},n.a.createElement("label",null,t.title),n.a.createElement("input",Object.assign({type:"text"},c,t,{className:l.touched&&l.error?w.a.error:void 0})))},V=function(){var e=R().toFilter,t=A.a().shape({maxTemperature:A.b().when(["minTemperature","type"],{is:function(e,t){return!e&&!t},then:A.b().required()}),minTemperature:A.b().when(["maxTemperature","type"],{is:function(e,t){return!e&&!t},then:A.b().required()}),type:A.b().when(["maxTemperature","minTemperature"],{is:function(e,t){return!e&&!t},then:A.b().required()})},[["maxTemperature","minTemperature"],["maxTemperature","type"],["minTemperature","type"]]);return n.a.createElement("div",{className:w.a.filter},n.a.createElement(N.b,{enableReinitialize:!0,validationSchema:t,initialValues:{maxTemperature:"",minTemperature:"",type:""},onSubmit:function(t){e(t)}},n.a.createElement(N.a,null,n.a.createElement("div",{className:w.a["radio-group"]},n.a.createElement(L,{type:"radio",name:"type",id:"radio-cloudy",label:"\u041e\u0431\u043b\u0430\u0447\u043d\u043e",value:"cloudy"}),n.a.createElement(L,{type:"radio",name:"type",id:"radio-sunny",label:"\u0421\u043e\u043b\u043d\u0435\u0447\u043d\u043e",value:"sunny"})),n.a.createElement(B,{id:"min-temperature",name:"minTemperature",title:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430"}),n.a.createElement(B,{id:"max-temperature",name:"maxTemperature",title:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430"}),n.a.createElement("button",{type:"submit"},"\u041e\u0442\u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c"))))},q=a(68),z=a.n(q),U=(a(92),function(e){var t=z()(e).locale("ru");return{weekDay:t.format("dddd"),dateDay:t.format("DD"),dateMonth:t.format("D MMMM")}}),X=function(e){return e?e[0].toUpperCase()+e.slice(1):e},J=function(){var e=function(){var e=Object(i.b)();Object(r.useEffect)((function(){e(H.fetchAsync())}),[e]);var t=Object(i.c)((function(e){return e.weather}));return{data:t.data,isFetching:t.isFetching,error:t.error}}().data;return{dataSorted:(R().filtered||e).slice(0,7).sort((function(e,t){return U(e.day).dateDay-U(t.day).dateDay}))}},K=a(47),P=a.n(K),Y=function(){var e=Object(i.c)((function(e){return e.weather})).current,t=Object(i.b)();return{current:e,showWeather:function(e){t(H.showWeather(e))}}},Z=function(){var e=J().dataSorted,t=R().filtered,a=Y(),r=a.showWeather,c=a.current,l=t&&!t.length?n.a.createElement("div",{className:P.a.none},n.a.createElement("span",null,"\u041f\u043e \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u043c \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f\u043c \u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0434\u043d\u0435\u0439")):e.map((function(t){var a,l=t.objectId,i=t.day,u=t.temperature,o=t.type,s=U(i).weekDay,m=c[0]||e[0],d=Object.assign({},m).objectId,p=G()((a={},Object(W.a)(a,P.a.day,!0),Object(W.a)(a,P.a[o],!0),Object(W.a)(a,P.a.selected,l===d),a));return n.a.createElement("div",{className:p,key:l,onClick:function(){r(l)}},n.a.createElement("p",null,X(s)),n.a.createElement("span",null,u))}));return n.a.createElement("div",{className:P.a.forecast},l)},Q=a(12),$=a.n(Q),ee=function(){var e=R().filtered,t=J().dataSorted,a=Y().current[0]||t[0]||[],r=Object.assign({},a),c=r.day,l=r.temperature,i=r.type,u=r.humidity,o=r.rain_probability,s=U(c),m=s.weekDay,d=s.dateMonth;return e&&!e.length?n.a.createElement("div",{className:$.a["head-none"]}):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:$.a.head},n.a.createElement("div",{className:G()([$.a.icon],[$.a[i]])}),n.a.createElement("div",{className:$.a["current-date"]},n.a.createElement("p",null,X(m)),n.a.createElement("div",{className:$.a["current-month"]},n.a.createElement("span",null,d)))),n.a.createElement("div",{className:$.a["current-weather"]},n.a.createElement("p",{className:$.a.temperature},l),n.a.createElement("p",{className:$.a.meta},n.a.createElement("span",{className:$.a.rainy},"%",o),n.a.createElement("span",{className:$.a.humidity},"%",u))))},te=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{store:g},n.a.createElement("main",null,n.a.createElement(V,null),n.a.createElement(ee,null),n.a.createElement(Z,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[80,1,2]]]);
//# sourceMappingURL=main.1247d39b.chunk.js.map